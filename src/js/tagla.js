(function() {
  var ATTRS, Tagla, proto,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    __hasProp = {}.hasOwnProperty;

  ATTRS = {
    NAME: 'Tagla',
    PREFIX: 'tagla-',
    DRAG_ATTR: {
      containment: '.tagla',
      handle: '.tagla-icon'
    },
    SELECT_ATTR: {
      allow_single_deselect: true,
      placeholder_text_single: 'Select an option',
      width: '310px'
    },
    FORM_TEMPLATE: [].join('\n'),
    TAG_TEMPLATE: ['<div class="tagla-tag">', '    <i class="tagla-icon fs fs-tag"></i>', '    <div class="tagla-dialog">', '        {{#image}}', '        <div class="tagla-dialog-image">', '          <img src="{{image}}">', '        </div>', '        {{/image}}', '        <div class="tagla-dialog-text">', '          <div class="tagla-dialog-edit">', '            <a href="javascript:void(0)" class="tagla-tag-link tagla-tag-edit-link">', '              <i class="fs fs-pencil"></i> Edit', '            </a>', '            <a href="javascript:void(0)" class="tagla-tag-link tagla-tag-delete-link">', '              <i class="fs fs-cross3"></i> Delete', '            </a>', '          </div>', '          <h2 class="tagla-dialog-title">{{label}}</h2>', '          <div class="tagla-dialog-price">{{price}}</div>', '          <p class="tagla-dialog-description">{{description}}</p>', '          <a href="{{url}}" class="tagla-dialog-button st-btn st-btn-success st-btn-solid">', '            <i class="fs fs-cart"></i>', '            Buy Now', '          </a>', '        </div>', '    </div>', '    <form class="tagla-form">', '        <div class="tagla-form-title">', '          Select Your Product', '          <a href="javascript:void(0);" class="tagla-form-close">Ã—</a>', '        </div>', '        <input type="hidden" name="x">', '        <input type="hidden" name="y">', '        <select data-placeholder="Search" type="text" name="tag" class="tagla-select chosen-select" placeholder="Search">', '            <option></option>', '            <option value="1">Cockie</option>', '            <option value="2">Kiwi</option>', '            <option value="3">Buddy</option>', '        </select>', '    </form>', '</div>'].join('\n'),
    NEW_TAG_TEMPLATE: ['<div class="tagla-tag">', '    <i class="tagla-icon fs fs-tag"></i>', '    <span class="tagla-label">{{label}}</span>', '</div>'].join('\n')
  };

  Tagla = (function(_super) {
    __extends(Tagla, _super);

    function Tagla($wrapper, options) {
      if (options == null) {
        options = {};
      }
      Tagla.__super__.constructor.call(this);
      this.wrapper = $($wrapper);
      this.init(options);
      this.bind();
    }

    return Tagla;

  })(Stackla.Base);

  $.extend(Tagla, ATTRS);

  proto = {
    formatFloat: function(num, pos) {
      var size;
      size = Math.pow(10, pos);
      return Math.round(num * size) / size;
    },
    toString: function() {
      return 'Tagla';
    },
    _applyTools: function($tag) {
      var $form, $select, drag, tag;
      drag = new Draggabilly($tag[0], Tagla.DRAG_ATTR);
      drag.on('dragEnd', $.proxy(this.handleTagMove, this));
      $tag.data('draggabilly', drag);
      tag = $tag.data('tag-data');
      $form = $tag.find('.tagla-form');
      $form.find('[name=x]').val(tag.x);
      $form.find('[name=y]').val(tag.y);
      $form.find("[name=tag] option[value=" + tag.value + "]").attr('selected', 'selected');
      $select = $tag.find('.tagla-select');
      $select.chosen(Tagla.SELECT_ATTR);
      $select.on('change', $.proxy(this.handleTagChange, this));
      return $select.on('chosen:hiding_dropdown', function(e, params) {
        return $select.trigger('chosen:open');
      });
    },
    _disableDrag: function($except) {
      if (this.editor === false) {
        return;
      }
      this.log('_disableDrag() is executed');
      $except = $($except);
      return $('.tagla-tag').each(function() {
        if ($except[0] === this) {
          return;
        }
        return $(this).data('draggabilly').disable();
      });
    },
    _enableDrag: function($except) {
      if (this.editor === false) {
        return;
      }
      this.log('_enableDrag() is executed');
      $except = $($except);
      return $('.tagla-tag').each(function() {
        if ($except[0] === this) {
          return;
        }
        return $(this).data('draggabilly').enable();
      });
    },
    _removeTools: function($tag) {
      var $select;
      $tag.data('draggabilly').destroy();
      $select = $tag.find('.tagla-select');
      $select.show().removeClass('chzn-done');
      return $select.next().remove();
    },
    _getPosition: function($tag) {
      var pos, x, y;
      this.log('_getPosition() is executed');
      pos = $tag.position();
      x = (pos.left + ($tag.width() / 2)) / this.currentWidth * this.naturalWidth;
      y = (pos.top + ($tag.height() / 2)) / this.currentHeight * this.naturalWidth;
      if (this.unit === 'percent') {
        x = x / this.naturalWidth * 100;
        y = y / this.naturalHeight * 100;
      }
      return [x, y];
    },
    _updateImageSize: function(data) {
      this.log('_updateImageSize() is executed');
      this.naturalWidth = data.naturalWidth;
      this.naturalHeight = data.naturalHeight;
      this.currentWidth = data.width;
      this.currentHeight = data.height;
      this.widthRatio = data.widthRatio;
      return this.heightRatio = data.heightRatio;
    },
    handleTagClick: function(e) {
      var $tag;
      e.preventDefault();
      e.stopPropagation();
      if (!$(e.target).hasClass('tagla-icon')) {
        return;
      }
      this.log('handleTagClick() is executed');
      $tag = $(e.currentTarget);
      this.shrink($tag);
      $tag.addClass('tagla-tag-active');
      return $tag.data('draggabilly').enable();
    },
    handleTagChange: function(e, params) {
      var $select, $tag, data, serialize;
      this.log('handleTagChange() is executed');
      $select = $(e.target);
      $tag = $select.parents('.tagla-tag');
      $tag.removeClass('tagla-tag-choose tagla-tag-active tagla-tag-new');
      data = $tag.data('tag-data');
      data.label = $select.find('option:selected').text();
      data.value = $select.val() || data.label;
      serialize = $tag.find('.tagla-form').serialize();
      return this.emit('change', [data, serialize, $tag]);
    },
    handleTagDelete: function(e) {
      var $tag, data, instance;
      this.log('handleTagDelete() is executed');
      e.preventDefault();
      $tag = $(e.currentTarget).parents('.tagla-tag');
      $tag.remove();
      instance = $tag.data('draggabilly');
      if (instance) {
        instance.destroy();
      }
      data = $tag.data('tag-data');
      return this.emit('delete', [data]);
    },
    handleTagEdit: function(e) {
      var $tag;
      this.log('handleTagEdit() is executed');
      e.preventDefault();
      e.stopPropagation();
      $tag = $(e.currentTarget).parents('.tagla-tag');
      $tag.addClass('tagla-tag-choose');
      this.wrapper.addClass('tagla-editing-selecting');
      this._disableDrag($tag);
      $tag.find('.tagla-select').trigger('chosen:open');
      return this.emit('edit', [$tag.data('tag-data')]);
    },
    handleTagMove: function(instance, event, pointer) {
      var $form, $tag, data, pos, serialize;
      this.log('handleTagMove() is executed');
      $tag = $(instance.element);
      data = $tag.data('tag-data');
      pos = this._getPosition($tag);
      data.x = pos[0];
      data.y = pos[1];
      $form = $tag.find('.tagla-form');
      $form.find('[name=x]').val(data.x);
      $form.find('[name=y]').val(data.y);
      serialize = $tag.find('.tagla-form').serialize();
      this.lastDragTime = new Date();
      return this.emit('move', [data, serialize, $tag]);
    },
    handleWrapperClick: function(e) {
      this.log('handleWrapperClick() is executed');
      if (new Date() - this.lastDragTime > 10) {
        return this.shrink();
      }
    },
    handleImageResize: function(e, data) {
      var prevHeight, prevWidth;
      this.log('handleImageResize() is executed');
      prevWidth = this.currentWidth;
      prevHeight = this.currentHeight;
      $('.tagla-tag').each(function() {
        var $tag, pos, x, y;
        $tag = $(this);
        pos = $tag.position();
        x = (pos.left / prevWidth) * data.width;
        y = (pos.top / prevHeight) * data.height;
        return $tag.css({
          left: x + "px",
          top: y + "px"
        });
      });
      return this._updateImageSize(data);
    },
    addTag: function(tag) {
      var $tag, isNew, offsetX, offsetY, x, y;
      if (tag == null) {
        tag = {};
      }
      this.log('addTag() is executed');
      $tag = $(Mustache.render(this.tagTemplate, tag));
      isNew = $.isEmptyObject(tag);
      if (isNew) {
        $('.tagla-tag').each(function() {
          if ($(this).hasClass('tagla-tag-new') && !$(this).find('[name=tag]').val()) {
            return $(this).remove();
          }
        });
      }
      this.wrapper.append($tag);
      if (isNew) {
        tag.x = 50;
        tag.y = 50;
        $tag.addClass('tagla-tag-new tagla-tag-active tagla-tag-choose');
      }
      if (this.unit === 'percent') {
        x = this.currentWidth * (tag.x / 100);
        y = this.currentHeight * (tag.y / 100);
      } else {
        x = tag.x * this.widthRatio;
        y = tag.y * this.heightRatio;
      }
      offsetX = $tag.outerWidth() / 2;
      offsetY = $tag.outerHeight() / 2;
      $tag.css({
        left: (x - offsetX) + "px",
        top: (y - offsetY) + "px"
      });
      $tag.data('tag-data', tag);
      if (this.editor) {
        this._applyTools($tag);
        if (isNew) {
          $tag.data('draggabilly').enable();
          $tag.addClass('tagla-tag-choose');
          return setTimeout((function(_this) {
            return function() {
              _this.wrapper.addClass('tagla-editing-selecting');
              $tag.find('.tagla-select').trigger('chosen:open');
              return _this._disableDrag($tag);
            };
          })(this), 100);
        }
      }
    },
    deleteTag: function($tag) {
      return this.log('deleteTag() is executed');
    },
    edit: function() {
      if (this.editor === true) {
        return;
      }
      this.log('edit() is executed');
      this.wrapper.addClass('tagla-editing');
      $('.tagla-tag').each(function() {
        return this._applyTools($(this));
      });
      return this.editor = true;
    },
    shrink: function($except) {
      if ($except == null) {
        $except = null;
      }
      if (this.editor === false) {
        return;
      }
      this.log('shrink() is executed');
      $except = $($except);
      this.wrapper.removeClass('tagla-editing-selecting');
      $('.tagla-tag').each(function() {
        var $tag;
        if ($except[0] === this) {
          return;
        }
        $tag = $(this);
        if ($tag.hasClass('tagla-tag-new') && !$tag.find('[name=tag]').val()) {
          $tag.remove();
        }
        return $tag.removeClass('tagla-tag-active tagla-tag-choose');
      });
      return this._enableDrag();
    },
    updateDialog: function($tag, data) {
      var html;
      html = $(Mustache.render(this.tagTemplate, data)).find('.tagla-dialog').html();
      $tag.find('.tagla-dialog').html(html);
      return $tag.data('tag-data', data);
    },
    unedit: function() {
      if (this.edit === false) {
        return;
      }
      this.log('unedit() is executed');
      $('.tagla-tag').each(function() {
        return this._removeTools($(this));
      });
      this.wrapper.removeClass('tagla-editing');
      return this.editor = false;
    },
    init: function(options) {
      var _ref;
      this.data = options.data || [];
      this.editor = (_ref = options.editor === true) != null ? _ref : {
        on: false
      };
      this.form = options.form ? $(options.form) : Tagla.FORM_TEMPLATE;
      this.tagTemplate = options.tagTemplate ? $(options.tagTemplate).html() : Tagla.TAG_TEMPLATE;
      this.unit = options.unit === 'percent' ? 'percent' : 'pixel';
      this.imageSize = null;
      this.image = this.wrapper.find('img');
      return this.lastDragTime = new Date();
    },
    bind: function() {
      this.log('bind() is executed');
      return this.wrapper.on('mouseenter', $.proxy(this.handleMouseEnter, this)).on('click', $.proxy(this.handleWrapperClick, this)).on('click', '.tagla-tag-edit-link', $.proxy(this.handleTagEdit, this)).on('click', '.tagla-tag-delete-link', $.proxy(this.handleTagDelete, this));
    },
    render: function() {
      this.log('render() is executed');
      this.imageSize = Stackla.getImageSize(this.image, $.proxy(this.renderFn, this));
      return this.imageSize.on('change', $.proxy(this.handleImageResize, this));
    },
    renderFn: function(success, data) {
      var tag, _i, _len, _ref, _results;
      this.log('renderFn() is executed');
      if (!success) {
        this.log("Failed to load image: " + (this.image.attr('src')), 'error');
        this.destroy();
        return;
      }
      this._updateImageSize(data);
      this.wrapper.addClass('tagla');
      if (this.editor) {
        this.wrapper.addClass('tagla-editing');
      }
      _ref = this.data;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        tag = _ref[_i];
        _results.push(this.addTag(tag));
      }
      return _results;
    },
    destroy: function() {
      return this.log('destroy() is executed');
    }
  };

  $.extend(Tagla.prototype, proto);

  if (!window.Stackla) {
    window.Stackla = {};
  }

  window.Stackla.Tagla = Tagla;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRhZ2xhLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUEsbUJBQUE7SUFBQTtpQ0FBQTs7QUFBQSxFQUFBLEtBQUEsR0FDRTtBQUFBLElBQUEsSUFBQSxFQUFPLE9BQVA7QUFBQSxJQUNBLE1BQUEsRUFBUyxRQURUO0FBQUEsSUFFQSxTQUFBLEVBQ0U7QUFBQSxNQUFBLFdBQUEsRUFBYyxRQUFkO0FBQUEsTUFDQSxNQUFBLEVBQVMsYUFEVDtLQUhGO0FBQUEsSUFLQSxXQUFBLEVBQ0U7QUFBQSxNQUFBLHFCQUFBLEVBQXVCLElBQXZCO0FBQUEsTUFDQSx1QkFBQSxFQUEwQixrQkFEMUI7QUFBQSxNQUVBLEtBQUEsRUFBUSxPQUZSO0tBTkY7QUFBQSxJQVNBLGFBQUEsRUFBZSxFQUNkLENBQUMsSUFEYSxDQUNQLElBRE8sQ0FUZjtBQUFBLElBV0EsWUFBQSxFQUFjLENBQ1gseUJBRFcsRUFFWCwwQ0FGVyxFQUdYLGdDQUhXLEVBSVgsb0JBSlcsRUFLWCwwQ0FMVyxFQU1YLGlDQU5XLEVBT1gsZ0JBUFcsRUFRWCxvQkFSVyxFQVNYLHlDQVRXLEVBVVgsMkNBVlcsRUFXWCxzRkFYVyxFQVlYLGlEQVpXLEVBYVgsa0JBYlcsRUFjWCx3RkFkVyxFQWVYLG1EQWZXLEVBZ0JYLGtCQWhCVyxFQWlCWCxrQkFqQlcsRUFrQlgseURBbEJXLEVBbUJYLDJEQW5CVyxFQW9CWCxtRUFwQlcsRUFxQlgsNkZBckJXLEVBc0JYLHdDQXRCVyxFQXVCWCxxQkF2QlcsRUF3QlgsZ0JBeEJXLEVBeUJYLGdCQXpCVyxFQTBCWCxZQTFCVyxFQTJCWCwrQkEzQlcsRUE0Qlgsd0NBNUJXLEVBNkJYLCtCQTdCVyxFQThCWCx3RUE5QlcsRUErQlgsZ0JBL0JXLEVBZ0NYLHdDQWhDVyxFQWlDWCx3Q0FqQ1csRUFrQ1gsMkhBbENXLEVBbUNYLCtCQW5DVyxFQW9DWCwrQ0FwQ1csRUFxQ1gsNkNBckNXLEVBc0NYLDhDQXRDVyxFQXVDWCxtQkF2Q1csRUF3Q1gsYUF4Q1csRUF5Q1gsUUF6Q1csQ0EwQ2IsQ0FBQyxJQTFDWSxDQTBDTixJQTFDTSxDQVhkO0FBQUEsSUFzREEsZ0JBQUEsRUFBa0IsQ0FDZix5QkFEZSxFQUVmLDBDQUZlLEVBR2YsZ0RBSGUsRUFJZixRQUplLENBS2pCLENBQUMsSUFMZ0IsQ0FLVixJQUxVLENBdERsQjtHQURGLENBQUE7O0FBQUEsRUE4RE07QUFDSiw0QkFBQSxDQUFBOztBQUFhLElBQUEsZUFBQyxRQUFELEVBQVcsT0FBWCxHQUFBOztRQUFXLFVBQVU7T0FDaEM7QUFBQSxNQUFBLHFDQUFBLENBQUEsQ0FBQTtBQUFBLE1BQ0EsSUFBQyxDQUFBLE9BQUQsR0FBVyxDQUFBLENBQUUsUUFBRixDQURYLENBQUE7QUFBQSxNQUVBLElBQUMsQ0FBQSxJQUFELENBQU0sT0FBTixDQUZBLENBQUE7QUFBQSxNQUdBLElBQUMsQ0FBQSxJQUFELENBQUEsQ0FIQSxDQURXO0lBQUEsQ0FBYjs7aUJBQUE7O0tBRGtCLE9BQU8sQ0FBQyxLQTlENUIsQ0FBQTs7QUFBQSxFQXFFQSxDQUFDLENBQUMsTUFBRixDQUFTLEtBQVQsRUFBZ0IsS0FBaEIsQ0FyRUEsQ0FBQTs7QUFBQSxFQXVFQSxLQUFBLEdBSUU7QUFBQSxJQUFBLFdBQUEsRUFBYSxTQUFDLEdBQUQsRUFBTSxHQUFOLEdBQUE7QUFDWCxVQUFBLElBQUE7QUFBQSxNQUFBLElBQUEsR0FBTyxJQUFJLENBQUMsR0FBTCxDQUFTLEVBQVQsRUFBYSxHQUFiLENBQVAsQ0FBQTthQUNBLElBQUksQ0FBQyxLQUFMLENBQVcsR0FBQSxHQUFNLElBQWpCLENBQUEsR0FBeUIsS0FGZDtJQUFBLENBQWI7QUFBQSxJQUdBLFFBQUEsRUFBVSxTQUFBLEdBQUE7YUFBSSxRQUFKO0lBQUEsQ0FIVjtBQUFBLElBU0EsV0FBQSxFQUFhLFNBQUMsSUFBRCxHQUFBO0FBQ1gsVUFBQSx5QkFBQTtBQUFBLE1BQUEsSUFBQSxHQUFXLElBQUEsV0FBQSxDQUFZLElBQUssQ0FBQSxDQUFBLENBQWpCLEVBQXFCLEtBQUssQ0FBQyxTQUEzQixDQUFYLENBQUE7QUFBQSxNQUNBLElBQUksQ0FBQyxFQUFMLENBQVMsU0FBVCxFQUFtQixDQUFDLENBQUMsS0FBRixDQUFRLElBQUMsQ0FBQSxhQUFULEVBQXdCLElBQXhCLENBQW5CLENBREEsQ0FBQTtBQUFBLE1BRUEsSUFBSSxDQUFDLElBQUwsQ0FBVyxhQUFYLEVBQXlCLElBQXpCLENBRkEsQ0FBQTtBQUFBLE1BSUEsR0FBQSxHQUFNLElBQUksQ0FBQyxJQUFMLENBQVcsVUFBWCxDQUpOLENBQUE7QUFBQSxNQUtBLEtBQUEsR0FBUSxJQUFJLENBQUMsSUFBTCxDQUFXLGFBQVgsQ0FMUixDQUFBO0FBQUEsTUFNQSxLQUFLLENBQUMsSUFBTixDQUFZLFVBQVosQ0FBc0IsQ0FBQyxHQUF2QixDQUEyQixHQUFHLENBQUMsQ0FBL0IsQ0FOQSxDQUFBO0FBQUEsTUFPQSxLQUFLLENBQUMsSUFBTixDQUFZLFVBQVosQ0FBc0IsQ0FBQyxHQUF2QixDQUEyQixHQUFHLENBQUMsQ0FBL0IsQ0FQQSxDQUFBO0FBQUEsTUFRQSxLQUFLLENBQUMsSUFBTixDQUFZLDBCQUFBLEdBQTBCLEdBQUcsQ0FBQyxLQUE5QixHQUFvQyxHQUFoRCxDQUFtRCxDQUFDLElBQXBELENBQTBELFVBQTFELEVBQXNFLFVBQXRFLENBUkEsQ0FBQTtBQUFBLE1BU0EsT0FBQSxHQUFVLElBQUksQ0FBQyxJQUFMLENBQVcsZUFBWCxDQVRWLENBQUE7QUFBQSxNQVVBLE9BQU8sQ0FBQyxNQUFSLENBQWUsS0FBSyxDQUFDLFdBQXJCLENBVkEsQ0FBQTtBQUFBLE1BV0EsT0FBTyxDQUFDLEVBQVIsQ0FBWSxRQUFaLEVBQXFCLENBQUMsQ0FBQyxLQUFGLENBQVEsSUFBQyxDQUFBLGVBQVQsRUFBMEIsSUFBMUIsQ0FBckIsQ0FYQSxDQUFBO2FBWUEsT0FBTyxDQUFDLEVBQVIsQ0FBWSx3QkFBWixFQUFxQyxTQUFDLENBQUQsRUFBSSxNQUFKLEdBQUE7ZUFDbkMsT0FBTyxDQUFDLE9BQVIsQ0FBaUIsYUFBakIsRUFEbUM7TUFBQSxDQUFyQyxFQWJXO0lBQUEsQ0FUYjtBQUFBLElBeUJBLFlBQUEsRUFBYyxTQUFDLE9BQUQsR0FBQTtBQUNaLE1BQUEsSUFBVSxJQUFDLENBQUEsTUFBRCxLQUFXLEtBQXJCO0FBQUEsY0FBQSxDQUFBO09BQUE7QUFBQSxNQUNBLElBQUMsQ0FBQSxHQUFELENBQU0sNEJBQU4sQ0FEQSxDQUFBO0FBQUEsTUFFQSxPQUFBLEdBQVUsQ0FBQSxDQUFFLE9BQUYsQ0FGVixDQUFBO2FBR0EsQ0FBQSxDQUFHLFlBQUgsQ0FBZSxDQUFDLElBQWhCLENBQXFCLFNBQUEsR0FBQTtBQUNuQixRQUFBLElBQVUsT0FBUSxDQUFBLENBQUEsQ0FBUixLQUFjLElBQXhCO0FBQUEsZ0JBQUEsQ0FBQTtTQUFBO2VBQ0EsQ0FBQSxDQUFFLElBQUYsQ0FBSSxDQUFDLElBQUwsQ0FBVyxhQUFYLENBQXdCLENBQUMsT0FBekIsQ0FBQSxFQUZtQjtNQUFBLENBQXJCLEVBSlk7SUFBQSxDQXpCZDtBQUFBLElBaUNBLFdBQUEsRUFBYSxTQUFDLE9BQUQsR0FBQTtBQUNYLE1BQUEsSUFBVSxJQUFDLENBQUEsTUFBRCxLQUFXLEtBQXJCO0FBQUEsY0FBQSxDQUFBO09BQUE7QUFBQSxNQUNBLElBQUMsQ0FBQSxHQUFELENBQU0sMkJBQU4sQ0FEQSxDQUFBO0FBQUEsTUFFQSxPQUFBLEdBQVUsQ0FBQSxDQUFFLE9BQUYsQ0FGVixDQUFBO2FBR0EsQ0FBQSxDQUFHLFlBQUgsQ0FBZSxDQUFDLElBQWhCLENBQXFCLFNBQUEsR0FBQTtBQUNuQixRQUFBLElBQVUsT0FBUSxDQUFBLENBQUEsQ0FBUixLQUFjLElBQXhCO0FBQUEsZ0JBQUEsQ0FBQTtTQUFBO2VBQ0EsQ0FBQSxDQUFFLElBQUYsQ0FBSSxDQUFDLElBQUwsQ0FBVyxhQUFYLENBQXdCLENBQUMsTUFBekIsQ0FBQSxFQUZtQjtNQUFBLENBQXJCLEVBSlc7SUFBQSxDQWpDYjtBQUFBLElBeUNBLFlBQUEsRUFBYyxTQUFDLElBQUQsR0FBQTtBQUNaLFVBQUEsT0FBQTtBQUFBLE1BQUEsSUFBSSxDQUFDLElBQUwsQ0FBVyxhQUFYLENBQXdCLENBQUMsT0FBekIsQ0FBQSxDQUFBLENBQUE7QUFBQSxNQUNBLE9BQUEsR0FBVSxJQUFJLENBQUMsSUFBTCxDQUFXLGVBQVgsQ0FEVixDQUFBO0FBQUEsTUFFQSxPQUFPLENBQUMsSUFBUixDQUFBLENBQWMsQ0FBQyxXQUFmLENBQTRCLFdBQTVCLENBRkEsQ0FBQTthQUdBLE9BQU8sQ0FBQyxJQUFSLENBQUEsQ0FBYyxDQUFDLE1BQWYsQ0FBQSxFQUpZO0lBQUEsQ0F6Q2Q7QUFBQSxJQStDQSxZQUFBLEVBQWMsU0FBQyxJQUFELEdBQUE7QUFDWixVQUFBLFNBQUE7QUFBQSxNQUFBLElBQUMsQ0FBQSxHQUFELENBQU0sNEJBQU4sQ0FBQSxDQUFBO0FBQUEsTUFDQSxHQUFBLEdBQU0sSUFBSSxDQUFDLFFBQUwsQ0FBQSxDQUROLENBQUE7QUFBQSxNQUVBLENBQUEsR0FBSSxDQUFDLEdBQUcsQ0FBQyxJQUFKLEdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBTCxDQUFBLENBQUEsR0FBZSxDQUFoQixDQUFaLENBQUEsR0FBa0MsSUFBQyxDQUFBLFlBQW5DLEdBQWtELElBQUMsQ0FBQSxZQUZ2RCxDQUFBO0FBQUEsTUFHQSxDQUFBLEdBQUksQ0FBQyxHQUFHLENBQUMsR0FBSixHQUFVLENBQUMsSUFBSSxDQUFDLE1BQUwsQ0FBQSxDQUFBLEdBQWdCLENBQWpCLENBQVgsQ0FBQSxHQUFrQyxJQUFDLENBQUEsYUFBbkMsR0FBbUQsSUFBQyxDQUFBLFlBSHhELENBQUE7QUFJQSxNQUFBLElBQUcsSUFBQyxDQUFBLElBQUQsS0FBVSxTQUFiO0FBQ0UsUUFBQSxDQUFBLEdBQUksQ0FBQSxHQUFJLElBQUMsQ0FBQSxZQUFMLEdBQW9CLEdBQXhCLENBQUE7QUFBQSxRQUNBLENBQUEsR0FBSSxDQUFBLEdBQUksSUFBQyxDQUFBLGFBQUwsR0FBcUIsR0FEekIsQ0FERjtPQUpBO2FBT0EsQ0FBQyxDQUFELEVBQUksQ0FBSixFQVJZO0lBQUEsQ0EvQ2Q7QUFBQSxJQXlEQSxnQkFBQSxFQUFrQixTQUFDLElBQUQsR0FBQTtBQUNoQixNQUFBLElBQUMsQ0FBQSxHQUFELENBQU0sZ0NBQU4sQ0FBQSxDQUFBO0FBQUEsTUFDQSxJQUFDLENBQUEsWUFBRCxHQUFnQixJQUFJLENBQUMsWUFEckIsQ0FBQTtBQUFBLE1BRUEsSUFBQyxDQUFBLGFBQUQsR0FBaUIsSUFBSSxDQUFDLGFBRnRCLENBQUE7QUFBQSxNQUdBLElBQUMsQ0FBQSxZQUFELEdBQWdCLElBQUksQ0FBQyxLQUhyQixDQUFBO0FBQUEsTUFJQSxJQUFDLENBQUEsYUFBRCxHQUFpQixJQUFJLENBQUMsTUFKdEIsQ0FBQTtBQUFBLE1BS0EsSUFBQyxDQUFBLFVBQUQsR0FBYyxJQUFJLENBQUMsVUFMbkIsQ0FBQTthQU1BLElBQUMsQ0FBQSxXQUFELEdBQWUsSUFBSSxDQUFDLFlBUEo7SUFBQSxDQXpEbEI7QUFBQSxJQXFFQSxjQUFBLEVBQWdCLFNBQUMsQ0FBRCxHQUFBO0FBQ2QsVUFBQSxJQUFBO0FBQUEsTUFBQSxDQUFDLENBQUMsY0FBRixDQUFBLENBQUEsQ0FBQTtBQUFBLE1BQ0EsQ0FBQyxDQUFDLGVBQUYsQ0FBQSxDQURBLENBQUE7QUFFQSxNQUFBLElBQUEsQ0FBQSxDQUFjLENBQUUsQ0FBQyxDQUFDLE1BQUosQ0FBVyxDQUFDLFFBQVosQ0FBc0IsWUFBdEIsQ0FBZDtBQUFBLGNBQUEsQ0FBQTtPQUZBO0FBQUEsTUFHQSxJQUFDLENBQUEsR0FBRCxDQUFNLDhCQUFOLENBSEEsQ0FBQTtBQUFBLE1BSUEsSUFBQSxHQUFPLENBQUEsQ0FBRSxDQUFDLENBQUMsYUFBSixDQUpQLENBQUE7QUFBQSxNQUtBLElBQUMsQ0FBQSxNQUFELENBQVEsSUFBUixDQUxBLENBQUE7QUFBQSxNQU1BLElBQUksQ0FBQyxRQUFMLENBQWUsa0JBQWYsQ0FOQSxDQUFBO2FBT0EsSUFBSSxDQUFDLElBQUwsQ0FBVyxhQUFYLENBQXdCLENBQUMsTUFBekIsQ0FBQSxFQVJjO0lBQUEsQ0FyRWhCO0FBQUEsSUErRUEsZUFBQSxFQUFpQixTQUFDLENBQUQsRUFBSSxNQUFKLEdBQUE7QUFDZixVQUFBLDhCQUFBO0FBQUEsTUFBQSxJQUFDLENBQUEsR0FBRCxDQUFNLCtCQUFOLENBQUEsQ0FBQTtBQUFBLE1BQ0EsT0FBQSxHQUFVLENBQUEsQ0FBRSxDQUFDLENBQUMsTUFBSixDQURWLENBQUE7QUFBQSxNQUVBLElBQUEsR0FBTyxPQUFPLENBQUMsT0FBUixDQUFpQixZQUFqQixDQUZQLENBQUE7QUFBQSxNQUdBLElBQUksQ0FBQyxXQUFMLENBQWtCLGlEQUFsQixDQUhBLENBQUE7QUFBQSxNQUlBLElBQUEsR0FBTyxJQUFJLENBQUMsSUFBTCxDQUFXLFVBQVgsQ0FKUCxDQUFBO0FBQUEsTUFLQSxJQUFJLENBQUMsS0FBTCxHQUFhLE9BQU8sQ0FBQyxJQUFSLENBQWMsaUJBQWQsQ0FBK0IsQ0FBQyxJQUFoQyxDQUFBLENBTGIsQ0FBQTtBQUFBLE1BTUEsSUFBSSxDQUFDLEtBQUwsR0FBYSxPQUFPLENBQUMsR0FBUixDQUFBLENBQUEsSUFBaUIsSUFBSSxDQUFDLEtBTm5DLENBQUE7QUFBQSxNQU9BLFNBQUEsR0FBWSxJQUFJLENBQUMsSUFBTCxDQUFXLGFBQVgsQ0FBd0IsQ0FBQyxTQUF6QixDQUFBLENBUFosQ0FBQTthQVFBLElBQUMsQ0FBQSxJQUFELENBQU8sUUFBUCxFQUFnQixDQUFDLElBQUQsRUFBTyxTQUFQLEVBQWtCLElBQWxCLENBQWhCLEVBVGU7SUFBQSxDQS9FakI7QUFBQSxJQTBGQSxlQUFBLEVBQWlCLFNBQUMsQ0FBRCxHQUFBO0FBQ2YsVUFBQSxvQkFBQTtBQUFBLE1BQUEsSUFBQyxDQUFBLEdBQUQsQ0FBTSwrQkFBTixDQUFBLENBQUE7QUFBQSxNQUNBLENBQUMsQ0FBQyxjQUFGLENBQUEsQ0FEQSxDQUFBO0FBQUEsTUFFQSxJQUFBLEdBQU8sQ0FBQSxDQUFFLENBQUMsQ0FBQyxhQUFKLENBQWtCLENBQUMsT0FBbkIsQ0FBNEIsWUFBNUIsQ0FGUCxDQUFBO0FBQUEsTUFHQSxJQUFJLENBQUMsTUFBTCxDQUFBLENBSEEsQ0FBQTtBQUFBLE1BSUEsUUFBQSxHQUFXLElBQUksQ0FBQyxJQUFMLENBQVcsYUFBWCxDQUpYLENBQUE7QUFLQSxNQUFBLElBQXVCLFFBQXZCO0FBQUEsUUFBQSxRQUFRLENBQUMsT0FBVCxDQUFBLENBQUEsQ0FBQTtPQUxBO0FBQUEsTUFNQSxJQUFBLEdBQU8sSUFBSSxDQUFDLElBQUwsQ0FBVyxVQUFYLENBTlAsQ0FBQTthQU9BLElBQUMsQ0FBQSxJQUFELENBQU8sUUFBUCxFQUFnQixDQUFDLElBQUQsQ0FBaEIsRUFSZTtJQUFBLENBMUZqQjtBQUFBLElBb0dBLGFBQUEsRUFBZSxTQUFDLENBQUQsR0FBQTtBQUNiLFVBQUEsSUFBQTtBQUFBLE1BQUEsSUFBQyxDQUFBLEdBQUQsQ0FBTSw2QkFBTixDQUFBLENBQUE7QUFBQSxNQUNBLENBQUMsQ0FBQyxjQUFGLENBQUEsQ0FEQSxDQUFBO0FBQUEsTUFFQSxDQUFDLENBQUMsZUFBRixDQUFBLENBRkEsQ0FBQTtBQUFBLE1BR0EsSUFBQSxHQUFPLENBQUEsQ0FBRSxDQUFDLENBQUMsYUFBSixDQUFrQixDQUFDLE9BQW5CLENBQTRCLFlBQTVCLENBSFAsQ0FBQTtBQUFBLE1BSUEsSUFBSSxDQUFDLFFBQUwsQ0FBZSxrQkFBZixDQUpBLENBQUE7QUFBQSxNQUtBLElBQUMsQ0FBQSxPQUFPLENBQUMsUUFBVCxDQUFtQix5QkFBbkIsQ0FMQSxDQUFBO0FBQUEsTUFNQSxJQUFDLENBQUEsWUFBRCxDQUFjLElBQWQsQ0FOQSxDQUFBO0FBQUEsTUFPQSxJQUFJLENBQUMsSUFBTCxDQUFXLGVBQVgsQ0FBMEIsQ0FBQyxPQUEzQixDQUFvQyxhQUFwQyxDQVBBLENBQUE7YUFRQSxJQUFDLENBQUEsSUFBRCxDQUFPLE1BQVAsRUFBYyxDQUFDLElBQUksQ0FBQyxJQUFMLENBQVcsVUFBWCxDQUFELENBQWQsRUFUYTtJQUFBLENBcEdmO0FBQUEsSUErR0EsYUFBQSxFQUFlLFNBQUMsUUFBRCxFQUFXLEtBQVgsRUFBa0IsT0FBbEIsR0FBQTtBQUNiLFVBQUEsaUNBQUE7QUFBQSxNQUFBLElBQUMsQ0FBQSxHQUFELENBQU0sNkJBQU4sQ0FBQSxDQUFBO0FBQUEsTUFFQSxJQUFBLEdBQU8sQ0FBQSxDQUFFLFFBQVEsQ0FBQyxPQUFYLENBRlAsQ0FBQTtBQUFBLE1BR0EsSUFBQSxHQUFPLElBQUksQ0FBQyxJQUFMLENBQVcsVUFBWCxDQUhQLENBQUE7QUFBQSxNQUlBLEdBQUEsR0FBTSxJQUFDLENBQUEsWUFBRCxDQUFjLElBQWQsQ0FKTixDQUFBO0FBQUEsTUFLQSxJQUFJLENBQUMsQ0FBTCxHQUFTLEdBQUksQ0FBQSxDQUFBLENBTGIsQ0FBQTtBQUFBLE1BTUEsSUFBSSxDQUFDLENBQUwsR0FBUyxHQUFJLENBQUEsQ0FBQSxDQU5iLENBQUE7QUFBQSxNQVFBLEtBQUEsR0FBUSxJQUFJLENBQUMsSUFBTCxDQUFXLGFBQVgsQ0FSUixDQUFBO0FBQUEsTUFTQSxLQUFLLENBQUMsSUFBTixDQUFZLFVBQVosQ0FBc0IsQ0FBQyxHQUF2QixDQUEyQixJQUFJLENBQUMsQ0FBaEMsQ0FUQSxDQUFBO0FBQUEsTUFVQSxLQUFLLENBQUMsSUFBTixDQUFZLFVBQVosQ0FBc0IsQ0FBQyxHQUF2QixDQUEyQixJQUFJLENBQUMsQ0FBaEMsQ0FWQSxDQUFBO0FBQUEsTUFXQSxTQUFBLEdBQVksSUFBSSxDQUFDLElBQUwsQ0FBVyxhQUFYLENBQXdCLENBQUMsU0FBekIsQ0FBQSxDQVhaLENBQUE7QUFBQSxNQWFBLElBQUMsQ0FBQSxZQUFELEdBQW9CLElBQUEsSUFBQSxDQUFBLENBYnBCLENBQUE7YUFjQSxJQUFDLENBQUEsSUFBRCxDQUFPLE1BQVAsRUFBYyxDQUFDLElBQUQsRUFBTyxTQUFQLEVBQWtCLElBQWxCLENBQWQsRUFmYTtJQUFBLENBL0dmO0FBQUEsSUFnSUEsa0JBQUEsRUFBb0IsU0FBQyxDQUFELEdBQUE7QUFDbEIsTUFBQSxJQUFDLENBQUEsR0FBRCxDQUFNLGtDQUFOLENBQUEsQ0FBQTtBQUVBLE1BQUEsSUFBa0IsSUFBQSxJQUFBLENBQUEsQ0FBSixHQUFhLElBQUMsQ0FBQSxZQUFkLEdBQTZCLEVBQTNDO2VBQUEsSUFBQyxDQUFBLE1BQUQsQ0FBQSxFQUFBO09BSGtCO0lBQUEsQ0FoSXBCO0FBQUEsSUFxSUEsaUJBQUEsRUFBbUIsU0FBQyxDQUFELEVBQUksSUFBSixHQUFBO0FBQ2pCLFVBQUEscUJBQUE7QUFBQSxNQUFBLElBQUMsQ0FBQSxHQUFELENBQU0saUNBQU4sQ0FBQSxDQUFBO0FBQUEsTUFDQSxTQUFBLEdBQVksSUFBQyxDQUFBLFlBRGIsQ0FBQTtBQUFBLE1BRUEsVUFBQSxHQUFhLElBQUMsQ0FBQSxhQUZkLENBQUE7QUFBQSxNQUdBLENBQUEsQ0FBRyxZQUFILENBQWUsQ0FBQyxJQUFoQixDQUFxQixTQUFBLEdBQUE7QUFDbkIsWUFBQSxlQUFBO0FBQUEsUUFBQSxJQUFBLEdBQU8sQ0FBQSxDQUFFLElBQUYsQ0FBUCxDQUFBO0FBQUEsUUFDQSxHQUFBLEdBQU0sSUFBSSxDQUFDLFFBQUwsQ0FBQSxDQUROLENBQUE7QUFBQSxRQUVBLENBQUEsR0FBSSxDQUFDLEdBQUcsQ0FBQyxJQUFKLEdBQVcsU0FBWixDQUFBLEdBQXlCLElBQUksQ0FBQyxLQUZsQyxDQUFBO0FBQUEsUUFHQSxDQUFBLEdBQUksQ0FBQyxHQUFHLENBQUMsR0FBSixHQUFVLFVBQVgsQ0FBQSxHQUF5QixJQUFJLENBQUMsTUFIbEMsQ0FBQTtlQUlBLElBQUksQ0FBQyxHQUFMLENBQ0U7QUFBQSxVQUFBLElBQUEsRUFBUyxDQUFELEdBQUcsSUFBWDtBQUFBLFVBQ0EsR0FBQSxFQUFRLENBQUQsR0FBRyxJQURWO1NBREYsRUFMbUI7TUFBQSxDQUFyQixDQUhBLENBQUE7YUFXQSxJQUFDLENBQUEsZ0JBQUQsQ0FBa0IsSUFBbEIsRUFaaUI7SUFBQSxDQXJJbkI7QUFBQSxJQXNKQSxNQUFBLEVBQVEsU0FBQyxHQUFELEdBQUE7QUFDTixVQUFBLG1DQUFBOztRQURPLE1BQU07T0FDYjtBQUFBLE1BQUEsSUFBQyxDQUFBLEdBQUQsQ0FBTSxzQkFBTixDQUFBLENBQUE7QUFBQSxNQUVBLElBQUEsR0FBTyxDQUFBLENBQUUsUUFBUSxDQUFDLE1BQVQsQ0FBZ0IsSUFBQyxDQUFBLFdBQWpCLEVBQThCLEdBQTlCLENBQUYsQ0FGUCxDQUFBO0FBQUEsTUFHQSxLQUFBLEdBQVEsQ0FBQyxDQUFDLGFBQUYsQ0FBZ0IsR0FBaEIsQ0FIUixDQUFBO0FBTUEsTUFBQSxJQUFHLEtBQUg7QUFDRSxRQUFBLENBQUEsQ0FBRyxZQUFILENBQWUsQ0FBQyxJQUFoQixDQUFxQixTQUFBLEdBQUE7QUFDbkIsVUFBQSxJQUFHLENBQUEsQ0FBRSxJQUFGLENBQUksQ0FBQyxRQUFMLENBQWUsZUFBZixDQUFBLElBQW1DLENBQUEsQ0FBQyxDQUFFLElBQUYsQ0FBSSxDQUFDLElBQUwsQ0FBVyxZQUFYLENBQXVCLENBQUMsR0FBeEIsQ0FBQSxDQUF2QzttQkFDRSxDQUFBLENBQUUsSUFBRixDQUFJLENBQUMsTUFBTCxDQUFBLEVBREY7V0FEbUI7UUFBQSxDQUFyQixDQUFBLENBREY7T0FOQTtBQUFBLE1BV0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxNQUFULENBQWdCLElBQWhCLENBWEEsQ0FBQTtBQVlBLE1BQUEsSUFBRyxLQUFIO0FBRUUsUUFBQSxHQUFHLENBQUMsQ0FBSixHQUFRLEVBQVIsQ0FBQTtBQUFBLFFBQ0EsR0FBRyxDQUFDLENBQUosR0FBUSxFQURSLENBQUE7QUFBQSxRQUVBLElBQUksQ0FBQyxRQUFMLENBQWUsaURBQWYsQ0FGQSxDQUZGO09BWkE7QUFpQkEsTUFBQSxJQUFHLElBQUMsQ0FBQSxJQUFELEtBQVUsU0FBYjtBQUNFLFFBQUEsQ0FBQSxHQUFJLElBQUMsQ0FBQSxZQUFELEdBQWdCLENBQUMsR0FBRyxDQUFDLENBQUosR0FBUSxHQUFULENBQXBCLENBQUE7QUFBQSxRQUNBLENBQUEsR0FBSSxJQUFDLENBQUEsYUFBRCxHQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFKLEdBQVEsR0FBVCxDQURyQixDQURGO09BQUEsTUFBQTtBQUlFLFFBQUEsQ0FBQSxHQUFJLEdBQUcsQ0FBQyxDQUFKLEdBQVEsSUFBQyxDQUFBLFVBQWIsQ0FBQTtBQUFBLFFBQ0EsQ0FBQSxHQUFJLEdBQUcsQ0FBQyxDQUFKLEdBQVEsSUFBQyxDQUFBLFdBRGIsQ0FKRjtPQWpCQTtBQUFBLE1BdUJBLE9BQUEsR0FBVSxJQUFJLENBQUMsVUFBTCxDQUFBLENBQUEsR0FBb0IsQ0F2QjlCLENBQUE7QUFBQSxNQXdCQSxPQUFBLEdBQVUsSUFBSSxDQUFDLFdBQUwsQ0FBQSxDQUFBLEdBQXFCLENBeEIvQixDQUFBO0FBQUEsTUF5QkEsSUFBSSxDQUFDLEdBQUwsQ0FDRTtBQUFBLFFBQUEsSUFBQSxFQUFRLENBQUMsQ0FBQSxHQUFJLE9BQUwsQ0FBQSxHQUFhLElBQXJCO0FBQUEsUUFDQSxHQUFBLEVBQU8sQ0FBQyxDQUFBLEdBQUksT0FBTCxDQUFBLEdBQWEsSUFEcEI7T0FERixDQXpCQSxDQUFBO0FBQUEsTUE2QkEsSUFBSSxDQUFDLElBQUwsQ0FBVyxVQUFYLEVBQXNCLEdBQXRCLENBN0JBLENBQUE7QUErQkEsTUFBQSxJQUFHLElBQUMsQ0FBQSxNQUFKO0FBQ0UsUUFBQSxJQUFDLENBQUEsV0FBRCxDQUFhLElBQWIsQ0FBQSxDQUFBO0FBQ0EsUUFBQSxJQUFHLEtBQUg7QUFDRSxVQUFBLElBQUksQ0FBQyxJQUFMLENBQVcsYUFBWCxDQUF3QixDQUFDLE1BQXpCLENBQUEsQ0FBQSxDQUFBO0FBQUEsVUFDQSxJQUFJLENBQUMsUUFBTCxDQUFlLGtCQUFmLENBREEsQ0FBQTtpQkFFQSxVQUFBLENBQVcsQ0FBQSxTQUFBLEtBQUEsR0FBQTttQkFBQSxTQUFBLEdBQUE7QUFDVCxjQUFBLEtBQUMsQ0FBQSxPQUFPLENBQUMsUUFBVCxDQUFtQix5QkFBbkIsQ0FBQSxDQUFBO0FBQUEsY0FDQSxJQUFJLENBQUMsSUFBTCxDQUFXLGVBQVgsQ0FBMEIsQ0FBQyxPQUEzQixDQUFvQyxhQUFwQyxDQURBLENBQUE7cUJBRUEsS0FBQyxDQUFBLFlBQUQsQ0FBYyxJQUFkLEVBSFM7WUFBQSxFQUFBO1VBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUFYLEVBSUUsR0FKRixFQUhGO1NBRkY7T0FoQ007SUFBQSxDQXRKUjtBQUFBLElBaU1BLFNBQUEsRUFBVyxTQUFDLElBQUQsR0FBQTthQUNULElBQUMsQ0FBQSxHQUFELENBQU0seUJBQU4sRUFEUztJQUFBLENBak1YO0FBQUEsSUFvTUEsSUFBQSxFQUFNLFNBQUEsR0FBQTtBQUNKLE1BQUEsSUFBVSxJQUFDLENBQUEsTUFBRCxLQUFXLElBQXJCO0FBQUEsY0FBQSxDQUFBO09BQUE7QUFBQSxNQUNBLElBQUMsQ0FBQSxHQUFELENBQU0sb0JBQU4sQ0FEQSxDQUFBO0FBQUEsTUFFQSxJQUFDLENBQUEsT0FBTyxDQUFDLFFBQVQsQ0FBbUIsZUFBbkIsQ0FGQSxDQUFBO0FBQUEsTUFHQSxDQUFBLENBQUcsWUFBSCxDQUFlLENBQUMsSUFBaEIsQ0FBcUIsU0FBQSxHQUFBO2VBQUcsSUFBQyxDQUFBLFdBQUQsQ0FBYSxDQUFBLENBQUUsSUFBRixDQUFiLEVBQUg7TUFBQSxDQUFyQixDQUhBLENBQUE7YUFJQSxJQUFDLENBQUEsTUFBRCxHQUFVLEtBTE47SUFBQSxDQXBNTjtBQUFBLElBNE1BLE1BQUEsRUFBUSxTQUFDLE9BQUQsR0FBQTs7UUFBQyxVQUFVO09BQ2pCO0FBQUEsTUFBQSxJQUFVLElBQUMsQ0FBQSxNQUFELEtBQVcsS0FBckI7QUFBQSxjQUFBLENBQUE7T0FBQTtBQUFBLE1BQ0EsSUFBQyxDQUFBLEdBQUQsQ0FBTSxzQkFBTixDQURBLENBQUE7QUFBQSxNQUVBLE9BQUEsR0FBVSxDQUFBLENBQUUsT0FBRixDQUZWLENBQUE7QUFBQSxNQUdBLElBQUMsQ0FBQSxPQUFPLENBQUMsV0FBVCxDQUFzQix5QkFBdEIsQ0FIQSxDQUFBO0FBQUEsTUFJQSxDQUFBLENBQUcsWUFBSCxDQUFlLENBQUMsSUFBaEIsQ0FBcUIsU0FBQSxHQUFBO0FBQ25CLFlBQUEsSUFBQTtBQUFBLFFBQUEsSUFBVSxPQUFRLENBQUEsQ0FBQSxDQUFSLEtBQWMsSUFBeEI7QUFBQSxnQkFBQSxDQUFBO1NBQUE7QUFBQSxRQUNBLElBQUEsR0FBTyxDQUFBLENBQUUsSUFBRixDQURQLENBQUE7QUFFQSxRQUFBLElBQUcsSUFBSSxDQUFDLFFBQUwsQ0FBZSxlQUFmLENBQUEsSUFBbUMsQ0FBQSxJQUFLLENBQUMsSUFBTCxDQUFXLFlBQVgsQ0FBdUIsQ0FBQyxHQUF4QixDQUFBLENBQXZDO0FBQ0UsVUFBQSxJQUFJLENBQUMsTUFBTCxDQUFBLENBQUEsQ0FERjtTQUZBO2VBSUEsSUFBSSxDQUFDLFdBQUwsQ0FBa0IsbUNBQWxCLEVBTG1CO01BQUEsQ0FBckIsQ0FKQSxDQUFBO2FBVUEsSUFBQyxDQUFBLFdBQUQsQ0FBQSxFQVhNO0lBQUEsQ0E1TVI7QUFBQSxJQXlOQSxZQUFBLEVBQWMsU0FBQyxJQUFELEVBQU8sSUFBUCxHQUFBO0FBQ1osVUFBQSxJQUFBO0FBQUEsTUFBQSxJQUFBLEdBQU8sQ0FBQSxDQUFFLFFBQVEsQ0FBQyxNQUFULENBQWdCLElBQUMsQ0FBQSxXQUFqQixFQUE4QixJQUE5QixDQUFGLENBQXNDLENBQUMsSUFBdkMsQ0FBNkMsZUFBN0MsQ0FBNEQsQ0FBQyxJQUE3RCxDQUFBLENBQVAsQ0FBQTtBQUFBLE1BQ0EsSUFBSSxDQUFDLElBQUwsQ0FBVyxlQUFYLENBQTBCLENBQUMsSUFBM0IsQ0FBZ0MsSUFBaEMsQ0FEQSxDQUFBO2FBRUEsSUFBSSxDQUFDLElBQUwsQ0FBVyxVQUFYLEVBQXNCLElBQXRCLEVBSFk7SUFBQSxDQXpOZDtBQUFBLElBOE5BLE1BQUEsRUFBUSxTQUFBLEdBQUE7QUFDTixNQUFBLElBQVUsSUFBQyxDQUFBLElBQUQsS0FBUyxLQUFuQjtBQUFBLGNBQUEsQ0FBQTtPQUFBO0FBQUEsTUFDQSxJQUFDLENBQUEsR0FBRCxDQUFNLHNCQUFOLENBREEsQ0FBQTtBQUFBLE1BRUEsQ0FBQSxDQUFHLFlBQUgsQ0FBZSxDQUFDLElBQWhCLENBQXFCLFNBQUEsR0FBQTtlQUFHLElBQUMsQ0FBQSxZQUFELENBQWMsQ0FBQSxDQUFFLElBQUYsQ0FBZCxFQUFIO01BQUEsQ0FBckIsQ0FGQSxDQUFBO0FBQUEsTUFHQSxJQUFDLENBQUEsT0FBTyxDQUFDLFdBQVQsQ0FBc0IsZUFBdEIsQ0FIQSxDQUFBO2FBSUEsSUFBQyxDQUFBLE1BQUQsR0FBVSxNQUxKO0lBQUEsQ0E5TlI7QUFBQSxJQXdPQSxJQUFBLEVBQU0sU0FBQyxPQUFELEdBQUE7QUFFSixVQUFBLElBQUE7QUFBQSxNQUFBLElBQUMsQ0FBQSxJQUFELEdBQVEsT0FBTyxDQUFDLElBQVIsSUFBZ0IsRUFBeEIsQ0FBQTtBQUFBLE1BQ0EsSUFBQyxDQUFBLE1BQUQscURBQW1DO0FBQUEsUUFBQSxFQUFBLEVBQUssS0FBTDtPQURuQyxDQUFBO0FBQUEsTUFFQSxJQUFDLENBQUEsSUFBRCxHQUFXLE9BQU8sQ0FBQyxJQUFYLEdBQXFCLENBQUEsQ0FBRSxPQUFPLENBQUMsSUFBVixDQUFyQixHQUEwQyxLQUFLLENBQUMsYUFGeEQsQ0FBQTtBQUFBLE1BR0EsSUFBQyxDQUFBLFdBQUQsR0FBa0IsT0FBTyxDQUFDLFdBQVgsR0FBNEIsQ0FBQSxDQUFFLE9BQU8sQ0FBQyxXQUFWLENBQXNCLENBQUMsSUFBdkIsQ0FBQSxDQUE1QixHQUErRCxLQUFLLENBQUMsWUFIcEYsQ0FBQTtBQUFBLE1BSUEsSUFBQyxDQUFBLElBQUQsR0FBVyxPQUFPLENBQUMsSUFBUixLQUFpQixTQUFwQixHQUFtQyxTQUFuQyxHQUFrRCxPQUoxRCxDQUFBO0FBQUEsTUFNQSxJQUFDLENBQUEsU0FBRCxHQUFhLElBTmIsQ0FBQTtBQUFBLE1BT0EsSUFBQyxDQUFBLEtBQUQsR0FBUyxJQUFDLENBQUEsT0FBTyxDQUFDLElBQVQsQ0FBZSxLQUFmLENBUFQsQ0FBQTthQVFBLElBQUMsQ0FBQSxZQUFELEdBQW9CLElBQUEsSUFBQSxDQUFBLEVBVmhCO0lBQUEsQ0F4T047QUFBQSxJQW9QQSxJQUFBLEVBQU0sU0FBQSxHQUFBO0FBQ0osTUFBQSxJQUFDLENBQUEsR0FBRCxDQUFNLG9CQUFOLENBQUEsQ0FBQTthQUNBLElBQUMsQ0FBQSxPQUNDLENBQUMsRUFESCxDQUNPLFlBRFAsRUFDb0IsQ0FBQyxDQUFDLEtBQUYsQ0FBUSxJQUFDLENBQUEsZ0JBQVQsRUFBMkIsSUFBM0IsQ0FEcEIsQ0FFRSxDQUFDLEVBRkgsQ0FFTyxPQUZQLEVBRWUsQ0FBQyxDQUFDLEtBQUYsQ0FBUSxJQUFDLENBQUEsa0JBQVQsRUFBNkIsSUFBN0IsQ0FGZixDQUdFLENBQUMsRUFISCxDQUdPLE9BSFAsRUFHZ0Isc0JBSGhCLEVBR3VDLENBQUMsQ0FBQyxLQUFGLENBQVEsSUFBQyxDQUFBLGFBQVQsRUFBd0IsSUFBeEIsQ0FIdkMsQ0FJRSxDQUFDLEVBSkgsQ0FJTyxPQUpQLEVBSWdCLHdCQUpoQixFQUl5QyxDQUFDLENBQUMsS0FBRixDQUFRLElBQUMsQ0FBQSxlQUFULEVBQTBCLElBQTFCLENBSnpDLEVBRkk7SUFBQSxDQXBQTjtBQUFBLElBNFBBLE1BQUEsRUFBUSxTQUFBLEdBQUE7QUFDTixNQUFBLElBQUMsQ0FBQSxHQUFELENBQU0sc0JBQU4sQ0FBQSxDQUFBO0FBQUEsTUFDQSxJQUFDLENBQUEsU0FBRCxHQUFhLE9BQU8sQ0FBQyxZQUFSLENBQXFCLElBQUMsQ0FBQSxLQUF0QixFQUE2QixDQUFDLENBQUMsS0FBRixDQUFRLElBQUMsQ0FBQSxRQUFULEVBQW1CLElBQW5CLENBQTdCLENBRGIsQ0FBQTthQUVBLElBQUMsQ0FBQSxTQUFTLENBQUMsRUFBWCxDQUFlLFFBQWYsRUFBd0IsQ0FBQyxDQUFDLEtBQUYsQ0FBUSxJQUFDLENBQUEsaUJBQVQsRUFBNEIsSUFBNUIsQ0FBeEIsRUFITTtJQUFBLENBNVBSO0FBQUEsSUFpUUEsUUFBQSxFQUFVLFNBQUMsT0FBRCxFQUFVLElBQVYsR0FBQTtBQUNSLFVBQUEsNkJBQUE7QUFBQSxNQUFBLElBQUMsQ0FBQSxHQUFELENBQU0sd0JBQU4sQ0FBQSxDQUFBO0FBQ0EsTUFBQSxJQUFBLENBQUEsT0FBQTtBQUNFLFFBQUEsSUFBQyxDQUFBLEdBQUQsQ0FBTSx3QkFBQSxHQUF1QixDQUFDLElBQUMsQ0FBQSxLQUFLLENBQUMsSUFBUCxDQUFhLEtBQWIsQ0FBRCxDQUE3QixFQUFxRCxPQUFyRCxDQUFBLENBQUE7QUFBQSxRQUNBLElBQUMsQ0FBQSxPQUFELENBQUEsQ0FEQSxDQUFBO0FBRUEsY0FBQSxDQUhGO09BREE7QUFBQSxNQUtBLElBQUMsQ0FBQSxnQkFBRCxDQUFrQixJQUFsQixDQUxBLENBQUE7QUFBQSxNQU1BLElBQUMsQ0FBQSxPQUFPLENBQUMsUUFBVCxDQUFtQixPQUFuQixDQU5BLENBQUE7QUFPQSxNQUFBLElBQXFDLElBQUMsQ0FBQSxNQUF0QztBQUFBLFFBQUEsSUFBQyxDQUFBLE9BQU8sQ0FBQyxRQUFULENBQW1CLGVBQW5CLENBQUEsQ0FBQTtPQVBBO0FBUUE7QUFBQTtXQUFBLDJDQUFBO3VCQUFBO0FBQUEsc0JBQUEsSUFBQyxDQUFBLE1BQUQsQ0FBUSxHQUFSLEVBQUEsQ0FBQTtBQUFBO3NCQVRRO0lBQUEsQ0FqUVY7QUFBQSxJQTRRQSxPQUFBLEVBQVMsU0FBQSxHQUFBO2FBQ1AsSUFBQyxDQUFBLEdBQUQsQ0FBTSx1QkFBTixFQURPO0lBQUEsQ0E1UVQ7R0EzRUYsQ0FBQTs7QUFBQSxFQTBWQSxDQUFDLENBQUMsTUFBRixDQUFTLEtBQUssQ0FBQSxTQUFkLEVBQWtCLEtBQWxCLENBMVZBLENBQUE7O0FBMlZBLEVBQUEsSUFBQSxDQUFBLE1BQWlDLENBQUMsT0FBbEM7QUFBQSxJQUFBLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLEVBQWpCLENBQUE7R0EzVkE7O0FBQUEsRUE0VkEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFmLEdBQXVCLEtBNVZ2QixDQUFBO0FBQUEiLCJmaWxlIjoidGFnbGEuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJBVFRSUyA9XG4gIE5BTUU6ICdUYWdsYSdcbiAgUFJFRklYOiAndGFnbGEtJ1xuICBEUkFHX0FUVFI6XG4gICAgY29udGFpbm1lbnQ6ICcudGFnbGEnXG4gICAgaGFuZGxlOiAnLnRhZ2xhLWljb24nXG4gIFNFTEVDVF9BVFRSOlxuICAgIGFsbG93X3NpbmdsZV9kZXNlbGVjdDogb25cbiAgICBwbGFjZWhvbGRlcl90ZXh0X3NpbmdsZTogJ1NlbGVjdCBhbiBvcHRpb24nXG4gICAgd2lkdGg6ICczMTBweCdcbiAgRk9STV9URU1QTEFURTogW1xuICBdLmpvaW4oJ1xcbicpXG4gIFRBR19URU1QTEFURTogW1xuICAgICc8ZGl2IGNsYXNzPVwidGFnbGEtdGFnXCI+J1xuICAgICcgICAgPGkgY2xhc3M9XCJ0YWdsYS1pY29uIGZzIGZzLXRhZ1wiPjwvaT4nXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwidGFnbGEtZGlhbG9nXCI+J1xuICAgICcgICAgICAgIHt7I2ltYWdlfX0nXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cInRhZ2xhLWRpYWxvZy1pbWFnZVwiPidcbiAgICAnICAgICAgICAgIDxpbWcgc3JjPVwie3tpbWFnZX19XCI+J1xuICAgICcgICAgICAgIDwvZGl2PidcbiAgICAnICAgICAgICB7ey9pbWFnZX19J1xuICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWdsYS1kaWFsb2ctdGV4dFwiPidcbiAgICAnICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWdsYS1kaWFsb2ctZWRpdFwiPidcbiAgICAnICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGNsYXNzPVwidGFnbGEtdGFnLWxpbmsgdGFnbGEtdGFnLWVkaXQtbGlua1wiPidcbiAgICAnICAgICAgICAgICAgICA8aSBjbGFzcz1cImZzIGZzLXBlbmNpbFwiPjwvaT4gRWRpdCdcbiAgICAnICAgICAgICAgICAgPC9hPidcbiAgICAnICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGNsYXNzPVwidGFnbGEtdGFnLWxpbmsgdGFnbGEtdGFnLWRlbGV0ZS1saW5rXCI+J1xuICAgICcgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZnMgZnMtY3Jvc3MzXCI+PC9pPiBEZWxldGUnXG4gICAgJyAgICAgICAgICAgIDwvYT4nXG4gICAgJyAgICAgICAgICA8L2Rpdj4nXG4gICAgJyAgICAgICAgICA8aDIgY2xhc3M9XCJ0YWdsYS1kaWFsb2ctdGl0bGVcIj57e2xhYmVsfX08L2gyPidcbiAgICAnICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWdsYS1kaWFsb2ctcHJpY2VcIj57e3ByaWNlfX08L2Rpdj4nXG4gICAgJyAgICAgICAgICA8cCBjbGFzcz1cInRhZ2xhLWRpYWxvZy1kZXNjcmlwdGlvblwiPnt7ZGVzY3JpcHRpb259fTwvcD4nXG4gICAgJyAgICAgICAgICA8YSBocmVmPVwie3t1cmx9fVwiIGNsYXNzPVwidGFnbGEtZGlhbG9nLWJ1dHRvbiBzdC1idG4gc3QtYnRuLXN1Y2Nlc3Mgc3QtYnRuLXNvbGlkXCI+J1xuICAgICcgICAgICAgICAgICA8aSBjbGFzcz1cImZzIGZzLWNhcnRcIj48L2k+J1xuICAgICcgICAgICAgICAgICBCdXkgTm93J1xuICAgICcgICAgICAgICAgPC9hPidcbiAgICAnICAgICAgICA8L2Rpdj4nXG4gICAgJyAgICA8L2Rpdj4nXG4gICAgJyAgICA8Zm9ybSBjbGFzcz1cInRhZ2xhLWZvcm1cIj4nXG4gICAgJyAgICAgICAgPGRpdiBjbGFzcz1cInRhZ2xhLWZvcm0tdGl0bGVcIj4nXG4gICAgJyAgICAgICAgICBTZWxlY3QgWW91ciBQcm9kdWN0J1xuICAgICcgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIiBjbGFzcz1cInRhZ2xhLWZvcm0tY2xvc2VcIj7DlzwvYT4nXG4gICAgJyAgICAgICAgPC9kaXY+J1xuICAgICcgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInhcIj4nXG4gICAgJyAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwieVwiPidcbiAgICAnICAgICAgICA8c2VsZWN0IGRhdGEtcGxhY2Vob2xkZXI9XCJTZWFyY2hcIiB0eXBlPVwidGV4dFwiIG5hbWU9XCJ0YWdcIiBjbGFzcz1cInRhZ2xhLXNlbGVjdCBjaG9zZW4tc2VsZWN0XCIgcGxhY2Vob2xkZXI9XCJTZWFyY2hcIj4nXG4gICAgJyAgICAgICAgICAgIDxvcHRpb24+PC9vcHRpb24+J1xuICAgICcgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMVwiPkNvY2tpZTwvb3B0aW9uPidcbiAgICAnICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjJcIj5LaXdpPC9vcHRpb24+J1xuICAgICcgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiM1wiPkJ1ZGR5PC9vcHRpb24+J1xuICAgICcgICAgICAgIDwvc2VsZWN0PidcbiAgICAnICAgIDwvZm9ybT4nXG4gICAgJzwvZGl2PidcbiAgXS5qb2luKCdcXG4nKVxuICBORVdfVEFHX1RFTVBMQVRFOiBbXG4gICAgJzxkaXYgY2xhc3M9XCJ0YWdsYS10YWdcIj4nXG4gICAgJyAgICA8aSBjbGFzcz1cInRhZ2xhLWljb24gZnMgZnMtdGFnXCI+PC9pPidcbiAgICAnICAgIDxzcGFuIGNsYXNzPVwidGFnbGEtbGFiZWxcIj57e2xhYmVsfX08L3NwYW4+J1xuICAgICc8L2Rpdj4nXG4gIF0uam9pbignXFxuJylcblxuY2xhc3MgVGFnbGEgZXh0ZW5kcyBTdGFja2xhLkJhc2VcbiAgY29uc3RydWN0b3I6ICgkd3JhcHBlciwgb3B0aW9ucyA9IHt9KSAtPlxuICAgIHN1cGVyKClcbiAgICBAd3JhcHBlciA9ICQoJHdyYXBwZXIpXG4gICAgQGluaXQob3B0aW9ucylcbiAgICBAYmluZCgpXG5cbiQuZXh0ZW5kKFRhZ2xhLCBBVFRSUylcblxucHJvdG8gPVxuICAjIyMjIyMjIyMjIyMjI1xuICAjIFV0aWxpdGllc1xuICAjIyMjIyMjIyMjIyMjI1xuICBmb3JtYXRGbG9hdDogKG51bSwgcG9zKSAtPlxuICAgIHNpemUgPSBNYXRoLnBvdygxMCwgcG9zKVxuICAgIE1hdGgucm91bmQobnVtICogc2l6ZSkgLyBzaXplXG4gIHRvU3RyaW5nOiAtPiAnVGFnbGEnXG5cbiAgIyMjIyMjIyMjIyMjIyMjIyMjXG4gICMgUHJpdmF0ZSBNZXRob2RzXG4gICMjIyMjIyMjIyMjIyMjIyMjI1xuICAjIEluaXRpYWxpemUgZHJhZyBhbmQgc2VsZWN0IGxpYnMgZm9yIGEgc2luZ2xlIHRhZ1xuICBfYXBwbHlUb29sczogKCR0YWcpIC0+XG4gICAgZHJhZyA9IG5ldyBEcmFnZ2FiaWxseSgkdGFnWzBdLCBUYWdsYS5EUkFHX0FUVFIpXG4gICAgZHJhZy5vbiAnZHJhZ0VuZCcsICQucHJveHkoQGhhbmRsZVRhZ01vdmUsIEApXG4gICAgJHRhZy5kYXRhKCdkcmFnZ2FiaWxseScsIGRyYWcpXG4gICAgIyBVcGRhdGUgZm9ybVxuICAgIHRhZyA9ICR0YWcuZGF0YSgndGFnLWRhdGEnKVxuICAgICRmb3JtID0gJHRhZy5maW5kKCcudGFnbGEtZm9ybScpXG4gICAgJGZvcm0uZmluZCgnW25hbWU9eF0nKS52YWwodGFnLngpXG4gICAgJGZvcm0uZmluZCgnW25hbWU9eV0nKS52YWwodGFnLnkpXG4gICAgJGZvcm0uZmluZChcIltuYW1lPXRhZ10gb3B0aW9uW3ZhbHVlPSN7dGFnLnZhbHVlfV1cIikuYXR0cignc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKVxuICAgICRzZWxlY3QgPSAkdGFnLmZpbmQoJy50YWdsYS1zZWxlY3QnKVxuICAgICRzZWxlY3QuY2hvc2VuKFRhZ2xhLlNFTEVDVF9BVFRSKVxuICAgICRzZWxlY3Qub24gJ2NoYW5nZScsICQucHJveHkoQGhhbmRsZVRhZ0NoYW5nZSwgQClcbiAgICAkc2VsZWN0Lm9uICdjaG9zZW46aGlkaW5nX2Ryb3Bkb3duJywgKGUsIHBhcmFtcykgLT5cbiAgICAgICRzZWxlY3QudHJpZ2dlcignY2hvc2VuOm9wZW4nKVxuXG4gIF9kaXNhYmxlRHJhZzogKCRleGNlcHQpIC0+XG4gICAgcmV0dXJuIGlmIEBlZGl0b3IgaXMgb2ZmXG4gICAgQGxvZyAnX2Rpc2FibGVEcmFnKCkgaXMgZXhlY3V0ZWQnXG4gICAgJGV4Y2VwdCA9ICQoJGV4Y2VwdClcbiAgICAkKCcudGFnbGEtdGFnJykuZWFjaCAtPlxuICAgICAgcmV0dXJuIGlmICRleGNlcHRbMF0gaXMgQFxuICAgICAgJChAKS5kYXRhKCdkcmFnZ2FiaWxseScpLmRpc2FibGUoKTtcblxuICBfZW5hYmxlRHJhZzogKCRleGNlcHQpIC0+XG4gICAgcmV0dXJuIGlmIEBlZGl0b3IgaXMgb2ZmXG4gICAgQGxvZyAnX2VuYWJsZURyYWcoKSBpcyBleGVjdXRlZCdcbiAgICAkZXhjZXB0ID0gJCgkZXhjZXB0KVxuICAgICQoJy50YWdsYS10YWcnKS5lYWNoIC0+XG4gICAgICByZXR1cm4gaWYgJGV4Y2VwdFswXSBpcyBAXG4gICAgICAkKEApLmRhdGEoJ2RyYWdnYWJpbGx5JykuZW5hYmxlKCk7XG5cbiAgX3JlbW92ZVRvb2xzOiAoJHRhZykgLT5cbiAgICAkdGFnLmRhdGEoJ2RyYWdnYWJpbGx5JykuZGVzdHJveSgpXG4gICAgJHNlbGVjdCA9ICR0YWcuZmluZCgnLnRhZ2xhLXNlbGVjdCcpXG4gICAgJHNlbGVjdC5zaG93KCkucmVtb3ZlQ2xhc3MgJ2Noem4tZG9uZSdcbiAgICAkc2VsZWN0Lm5leHQoKS5yZW1vdmUoKVxuXG4gIF9nZXRQb3NpdGlvbjogKCR0YWcpIC0+XG4gICAgQGxvZyAnX2dldFBvc2l0aW9uKCkgaXMgZXhlY3V0ZWQnXG4gICAgcG9zID0gJHRhZy5wb3NpdGlvbigpXG4gICAgeCA9IChwb3MubGVmdCArICgkdGFnLndpZHRoKCkgLyAyKSkgLyBAY3VycmVudFdpZHRoICogQG5hdHVyYWxXaWR0aFxuICAgIHkgPSAocG9zLnRvcCArICgkdGFnLmhlaWdodCgpIC8gMikpIC8gQGN1cnJlbnRIZWlnaHQgKiBAbmF0dXJhbFdpZHRoXG4gICAgaWYgQHVuaXQgaXMgJ3BlcmNlbnQnXG4gICAgICB4ID0geCAvIEBuYXR1cmFsV2lkdGggKiAxMDBcbiAgICAgIHkgPSB5IC8gQG5hdHVyYWxIZWlnaHQgKiAxMDBcbiAgICBbeCwgeV1cblxuICBfdXBkYXRlSW1hZ2VTaXplOiAoZGF0YSkgLT5cbiAgICBAbG9nICdfdXBkYXRlSW1hZ2VTaXplKCkgaXMgZXhlY3V0ZWQnXG4gICAgQG5hdHVyYWxXaWR0aCA9IGRhdGEubmF0dXJhbFdpZHRoXG4gICAgQG5hdHVyYWxIZWlnaHQgPSBkYXRhLm5hdHVyYWxIZWlnaHRcbiAgICBAY3VycmVudFdpZHRoID0gZGF0YS53aWR0aFxuICAgIEBjdXJyZW50SGVpZ2h0ID0gZGF0YS5oZWlnaHRcbiAgICBAd2lkdGhSYXRpbyA9IGRhdGEud2lkdGhSYXRpb1xuICAgIEBoZWlnaHRSYXRpbyA9IGRhdGEuaGVpZ2h0UmF0aW9cblxuICAjIyMjIyMjIyMjIyMjIyMjIyMjI1xuICAjIEV2ZW50IEhhbmRsZXJzXG4gICMjIyMjIyMjIyMjIyMjIyMjIyMjXG4gIGhhbmRsZVRhZ0NsaWNrOiAoZSkgLT5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgcmV0dXJuIHVubGVzcyAkKGUudGFyZ2V0KS5oYXNDbGFzcygndGFnbGEtaWNvbicpXG4gICAgQGxvZyAnaGFuZGxlVGFnQ2xpY2soKSBpcyBleGVjdXRlZCdcbiAgICAkdGFnID0gJChlLmN1cnJlbnRUYXJnZXQpXG4gICAgQHNocmluaygkdGFnKVxuICAgICR0YWcuYWRkQ2xhc3MoJ3RhZ2xhLXRhZy1hY3RpdmUnKVxuICAgICR0YWcuZGF0YSgnZHJhZ2dhYmlsbHknKS5lbmFibGUoKVxuXG4gIGhhbmRsZVRhZ0NoYW5nZTogKGUsIHBhcmFtcykgLT5cbiAgICBAbG9nICdoYW5kbGVUYWdDaGFuZ2UoKSBpcyBleGVjdXRlZCdcbiAgICAkc2VsZWN0ID0gJChlLnRhcmdldClcbiAgICAkdGFnID0gJHNlbGVjdC5wYXJlbnRzKCcudGFnbGEtdGFnJylcbiAgICAkdGFnLnJlbW92ZUNsYXNzICd0YWdsYS10YWctY2hvb3NlIHRhZ2xhLXRhZy1hY3RpdmUgdGFnbGEtdGFnLW5ldydcbiAgICBkYXRhID0gJHRhZy5kYXRhKCd0YWctZGF0YScpXG4gICAgZGF0YS5sYWJlbCA9ICRzZWxlY3QuZmluZCgnb3B0aW9uOnNlbGVjdGVkJykudGV4dCgpXG4gICAgZGF0YS52YWx1ZSA9ICRzZWxlY3QudmFsKCkgfHwgZGF0YS5sYWJlbFxuICAgIHNlcmlhbGl6ZSA9ICR0YWcuZmluZCgnLnRhZ2xhLWZvcm0nKS5zZXJpYWxpemUoKVxuICAgIEBlbWl0KCdjaGFuZ2UnLCBbZGF0YSwgc2VyaWFsaXplLCAkdGFnXSlcblxuICBoYW5kbGVUYWdEZWxldGU6IChlKSAtPlxuICAgIEBsb2cgJ2hhbmRsZVRhZ0RlbGV0ZSgpIGlzIGV4ZWN1dGVkJ1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICR0YWcgPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50cygnLnRhZ2xhLXRhZycpXG4gICAgJHRhZy5yZW1vdmUoKVxuICAgIGluc3RhbmNlID0gJHRhZy5kYXRhKCdkcmFnZ2FiaWxseScpXG4gICAgaW5zdGFuY2UuZGVzdHJveSgpIGlmIChpbnN0YW5jZSlcbiAgICBkYXRhID0gJHRhZy5kYXRhKCd0YWctZGF0YScpXG4gICAgQGVtaXQoJ2RlbGV0ZScsIFtkYXRhXSlcblxuICBoYW5kbGVUYWdFZGl0OiAoZSkgLT5cbiAgICBAbG9nICdoYW5kbGVUYWdFZGl0KCkgaXMgZXhlY3V0ZWQnXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICR0YWcgPSAkKGUuY3VycmVudFRhcmdldCkucGFyZW50cygnLnRhZ2xhLXRhZycpXG4gICAgJHRhZy5hZGRDbGFzcygndGFnbGEtdGFnLWNob29zZScpXG4gICAgQHdyYXBwZXIuYWRkQ2xhc3MoJ3RhZ2xhLWVkaXRpbmctc2VsZWN0aW5nJylcbiAgICBAX2Rpc2FibGVEcmFnKCR0YWcpXG4gICAgJHRhZy5maW5kKCcudGFnbGEtc2VsZWN0JykudHJpZ2dlcignY2hvc2VuOm9wZW4nKVxuICAgIEBlbWl0KCdlZGl0JywgWyR0YWcuZGF0YSgndGFnLWRhdGEnKV0pXG5cbiAgaGFuZGxlVGFnTW92ZTogKGluc3RhbmNlLCBldmVudCwgcG9pbnRlcikgLT5cbiAgICBAbG9nICdoYW5kbGVUYWdNb3ZlKCkgaXMgZXhlY3V0ZWQnXG5cbiAgICAkdGFnID0gJChpbnN0YW5jZS5lbGVtZW50KVxuICAgIGRhdGEgPSAkdGFnLmRhdGEoJ3RhZy1kYXRhJylcbiAgICBwb3MgPSBAX2dldFBvc2l0aW9uKCR0YWcpXG4gICAgZGF0YS54ID0gcG9zWzBdXG4gICAgZGF0YS55ID0gcG9zWzFdXG5cbiAgICAkZm9ybSA9ICR0YWcuZmluZCgnLnRhZ2xhLWZvcm0nKVxuICAgICRmb3JtLmZpbmQoJ1tuYW1lPXhdJykudmFsKGRhdGEueClcbiAgICAkZm9ybS5maW5kKCdbbmFtZT15XScpLnZhbChkYXRhLnkpXG4gICAgc2VyaWFsaXplID0gJHRhZy5maW5kKCcudGFnbGEtZm9ybScpLnNlcmlhbGl6ZSgpXG5cbiAgICBAbGFzdERyYWdUaW1lID0gbmV3IERhdGUoKVxuICAgIEBlbWl0KCdtb3ZlJywgW2RhdGEsIHNlcmlhbGl6ZSwgJHRhZ10pXG5cbiAgaGFuZGxlV3JhcHBlckNsaWNrOiAoZSkgLT5cbiAgICBAbG9nICdoYW5kbGVXcmFwcGVyQ2xpY2soKSBpcyBleGVjdXRlZCdcbiAgICAjIEhhY2sgdG8gYXZvaWQgdHJpZ2dlcmluZyBjbGljayBldmVudFxuICAgIEBzaHJpbmsoKSBpZiAobmV3IERhdGUoKSAtIEBsYXN0RHJhZ1RpbWUgPiAxMClcblxuICBoYW5kbGVJbWFnZVJlc2l6ZTogKGUsIGRhdGEpIC0+XG4gICAgQGxvZyAnaGFuZGxlSW1hZ2VSZXNpemUoKSBpcyBleGVjdXRlZCdcbiAgICBwcmV2V2lkdGggPSBAY3VycmVudFdpZHRoXG4gICAgcHJldkhlaWdodCA9IEBjdXJyZW50SGVpZ2h0XG4gICAgJCgnLnRhZ2xhLXRhZycpLmVhY2ggLT5cbiAgICAgICR0YWcgPSAkKEApXG4gICAgICBwb3MgPSAkdGFnLnBvc2l0aW9uKClcbiAgICAgIHggPSAocG9zLmxlZnQgLyBwcmV2V2lkdGgpICogZGF0YS53aWR0aFxuICAgICAgeSA9IChwb3MudG9wIC8gcHJldkhlaWdodCkgKiBkYXRhLmhlaWdodFxuICAgICAgJHRhZy5jc3NcbiAgICAgICAgbGVmdDogXCIje3h9cHhcIlxuICAgICAgICB0b3A6IFwiI3t5fXB4XCJcbiAgICBAX3VwZGF0ZUltYWdlU2l6ZShkYXRhKVxuXG4gICMjIyMjIyMjIyMjIyMjIyMjIyMjXG4gICMgUHVibGljIE1ldGhvZHNcbiAgIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiAgYWRkVGFnOiAodGFnID0ge30pIC0+XG4gICAgQGxvZyAnYWRkVGFnKCkgaXMgZXhlY3V0ZWQnXG4gICAgIyBSZW5kZXIgdGFnIGVsZW1lbnQgYnkgcHJvdmlkZWQgdGVtcGxhdGVcbiAgICAkdGFnID0gJChNdXN0YWNoZS5yZW5kZXIoQHRhZ1RlbXBsYXRlLCB0YWcpKVxuICAgIGlzTmV3ID0gJC5pc0VtcHR5T2JqZWN0KHRhZylcblxuICAgICMgUmVtb3ZlIHByZXZpb3VzIGFkZGVkIG5ldyB0YWcgaWYgaXQgaGFzbid0IGJlaW5nIHNldFxuICAgIGlmIGlzTmV3XG4gICAgICAkKCcudGFnbGEtdGFnJykuZWFjaCAtPlxuICAgICAgICBpZiAkKEApLmhhc0NsYXNzKCd0YWdsYS10YWctbmV3JykgYW5kICEkKEApLmZpbmQoJ1tuYW1lPXRhZ10nKS52YWwoKVxuICAgICAgICAgICQoQCkucmVtb3ZlKClcblxuICAgIEB3cmFwcGVyLmFwcGVuZCgkdGFnKVxuICAgIGlmIGlzTmV3ICMgRGVmYXVsdCBwb3NpdGlvbiBmb3IgbmV3IHRhZ1xuICAgICAgIyBUT0RPIC0gTmVlZCBhIHNtYXJ0IHdheSB0byBhdm9pZCBjb2xsaXNpb25cbiAgICAgIHRhZy54ID0gNTBcbiAgICAgIHRhZy55ID0gNTBcbiAgICAgICR0YWcuYWRkQ2xhc3MgJ3RhZ2xhLXRhZy1uZXcgdGFnbGEtdGFnLWFjdGl2ZSB0YWdsYS10YWctY2hvb3NlJ1xuICAgIGlmIEB1bml0IGlzICdwZXJjZW50J1xuICAgICAgeCA9IEBjdXJyZW50V2lkdGggKiAodGFnLnggLyAxMDApXG4gICAgICB5ID0gQGN1cnJlbnRIZWlnaHQgKiAodGFnLnkgLyAxMDApXG4gICAgZWxzZVxuICAgICAgeCA9IHRhZy54ICogQHdpZHRoUmF0aW9cbiAgICAgIHkgPSB0YWcueSAqIEBoZWlnaHRSYXRpb1xuICAgIG9mZnNldFggPSAkdGFnLm91dGVyV2lkdGgoKSAvIDJcbiAgICBvZmZzZXRZID0gJHRhZy5vdXRlckhlaWdodCgpIC8gMlxuICAgICR0YWcuY3NzXG4gICAgICBsZWZ0OiBcIiN7eCAtIG9mZnNldFh9cHhcIlxuICAgICAgdG9wOiBcIiN7eSAtIG9mZnNldFl9cHhcIlxuICAgICMgU2F2ZSB0YWcgZGF0YSB0byBkYXRhIGF0dHIgZm9yIGVhc3kgYWNjZXNzXG4gICAgJHRhZy5kYXRhKCd0YWctZGF0YScsIHRhZylcbiAgICAjIFJlbmRlciB0YWcgZWRpdG9yIHRvb2xzXG4gICAgaWYgQGVkaXRvclxuICAgICAgQF9hcHBseVRvb2xzKCR0YWcpXG4gICAgICBpZiBpc05ld1xuICAgICAgICAkdGFnLmRhdGEoJ2RyYWdnYWJpbGx5JykuZW5hYmxlKClcbiAgICAgICAgJHRhZy5hZGRDbGFzcygndGFnbGEtdGFnLWNob29zZScpXG4gICAgICAgIHNldFRpbWVvdXQgPT5cbiAgICAgICAgICBAd3JhcHBlci5hZGRDbGFzcygndGFnbGEtZWRpdGluZy1zZWxlY3RpbmcnKVxuICAgICAgICAgICR0YWcuZmluZCgnLnRhZ2xhLXNlbGVjdCcpLnRyaWdnZXIgJ2Nob3NlbjpvcGVuJ1xuICAgICAgICAgIEBfZGlzYWJsZURyYWcoJHRhZylcbiAgICAgICAgLCAxMDBcblxuICBkZWxldGVUYWc6ICgkdGFnKSAtPlxuICAgIEBsb2cgJ2RlbGV0ZVRhZygpIGlzIGV4ZWN1dGVkJ1xuXG4gIGVkaXQ6IC0+XG4gICAgcmV0dXJuIGlmIEBlZGl0b3IgaXMgb25cbiAgICBAbG9nICdlZGl0KCkgaXMgZXhlY3V0ZWQnXG4gICAgQHdyYXBwZXIuYWRkQ2xhc3MoJ3RhZ2xhLWVkaXRpbmcnKVxuICAgICQoJy50YWdsYS10YWcnKS5lYWNoIC0+IEBfYXBwbHlUb29scygkKEApKVxuICAgIEBlZGl0b3IgPSBvblxuXG4gICMgU2hyaW5rIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSAkZXhjZXB0XG4gIHNocmluazogKCRleGNlcHQgPSBudWxsKSAtPlxuICAgIHJldHVybiBpZiBAZWRpdG9yIGlzIG9mZlxuICAgIEBsb2cgJ3NocmluaygpIGlzIGV4ZWN1dGVkJ1xuICAgICRleGNlcHQgPSAkKCRleGNlcHQpXG4gICAgQHdyYXBwZXIucmVtb3ZlQ2xhc3MgJ3RhZ2xhLWVkaXRpbmctc2VsZWN0aW5nJ1xuICAgICQoJy50YWdsYS10YWcnKS5lYWNoIC0+XG4gICAgICByZXR1cm4gaWYgJGV4Y2VwdFswXSBpcyBAXG4gICAgICAkdGFnID0gJChAKVxuICAgICAgaWYgJHRhZy5oYXNDbGFzcygndGFnbGEtdGFnLW5ldycpIGFuZCAhJHRhZy5maW5kKCdbbmFtZT10YWddJykudmFsKClcbiAgICAgICAgJHRhZy5yZW1vdmUoKVxuICAgICAgJHRhZy5yZW1vdmVDbGFzcyAndGFnbGEtdGFnLWFjdGl2ZSB0YWdsYS10YWctY2hvb3NlJ1xuICAgIEBfZW5hYmxlRHJhZygpXG5cbiAgdXBkYXRlRGlhbG9nOiAoJHRhZywgZGF0YSkgLT5cbiAgICBodG1sID0gJChNdXN0YWNoZS5yZW5kZXIoQHRhZ1RlbXBsYXRlLCBkYXRhKSkuZmluZCgnLnRhZ2xhLWRpYWxvZycpLmh0bWwoKVxuICAgICR0YWcuZmluZCgnLnRhZ2xhLWRpYWxvZycpLmh0bWwoaHRtbClcbiAgICAkdGFnLmRhdGEoJ3RhZy1kYXRhJywgZGF0YSlcblxuICB1bmVkaXQ6IC0+XG4gICAgcmV0dXJuIGlmIEBlZGl0IGlzIG9mZlxuICAgIEBsb2cgJ3VuZWRpdCgpIGlzIGV4ZWN1dGVkJ1xuICAgICQoJy50YWdsYS10YWcnKS5lYWNoIC0+IEBfcmVtb3ZlVG9vbHMoJChAKSlcbiAgICBAd3JhcHBlci5yZW1vdmVDbGFzcyAndGFnbGEtZWRpdGluZydcbiAgICBAZWRpdG9yID0gb2ZmXG5cbiAgIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiAgIyBMaWZlY3ljbGUgTWV0aG9kc1xuICAjIyMjIyMjIyMjIyMjIyMjIyMjI1xuICBpbml0OiAob3B0aW9ucykgLT5cbiAgICAjIENvbmZpZ3VyZSBPcHRpb25zXG4gICAgQGRhdGEgPSBvcHRpb25zLmRhdGEgfHwgW11cbiAgICBAZWRpdG9yID0gKG9wdGlvbnMuZWRpdG9yIGlzIG9uKSA/IG9uIDogZmFsc2VcbiAgICBAZm9ybSA9IGlmIG9wdGlvbnMuZm9ybSB0aGVuICQob3B0aW9ucy5mb3JtKSBlbHNlIFRhZ2xhLkZPUk1fVEVNUExBVEVcbiAgICBAdGFnVGVtcGxhdGUgPSBpZiBvcHRpb25zLnRhZ1RlbXBsYXRlIHRoZW4gJChvcHRpb25zLnRhZ1RlbXBsYXRlKS5odG1sKCkgZWxzZSBUYWdsYS5UQUdfVEVNUExBVEVcbiAgICBAdW5pdCA9IGlmIG9wdGlvbnMudW5pdCBpcyAncGVyY2VudCcgdGhlbiAncGVyY2VudCcgZWxzZSAncGl4ZWwnXG4gICAgIyBBdHRyaWJ1dGVzXG4gICAgQGltYWdlU2l6ZSA9IG51bGxcbiAgICBAaW1hZ2UgPSBAd3JhcHBlci5maW5kKCdpbWcnKVxuICAgIEBsYXN0RHJhZ1RpbWUgPSBuZXcgRGF0ZSgpXG5cbiAgYmluZDogLT5cbiAgICBAbG9nICdiaW5kKCkgaXMgZXhlY3V0ZWQnXG4gICAgQHdyYXBwZXJcbiAgICAgIC5vbiAnbW91c2VlbnRlcicsICQucHJveHkoQGhhbmRsZU1vdXNlRW50ZXIsIEApXG4gICAgICAub24gJ2NsaWNrJywgJC5wcm94eShAaGFuZGxlV3JhcHBlckNsaWNrLCBAKVxuICAgICAgLm9uICdjbGljaycsICcudGFnbGEtdGFnLWVkaXQtbGluaycsICQucHJveHkoQGhhbmRsZVRhZ0VkaXQsIEApXG4gICAgICAub24gJ2NsaWNrJywgJy50YWdsYS10YWctZGVsZXRlLWxpbmsnLCAkLnByb3h5KEBoYW5kbGVUYWdEZWxldGUsIEApXG5cbiAgcmVuZGVyOiAtPlxuICAgIEBsb2cgJ3JlbmRlcigpIGlzIGV4ZWN1dGVkJ1xuICAgIEBpbWFnZVNpemUgPSBTdGFja2xhLmdldEltYWdlU2l6ZShAaW1hZ2UsICQucHJveHkoQHJlbmRlckZuLCBAKSlcbiAgICBAaW1hZ2VTaXplLm9uKCdjaGFuZ2UnLCAkLnByb3h5KEBoYW5kbGVJbWFnZVJlc2l6ZSwgQCkpXG5cbiAgcmVuZGVyRm46IChzdWNjZXNzLCBkYXRhKSAtPlxuICAgIEBsb2cgJ3JlbmRlckZuKCkgaXMgZXhlY3V0ZWQnXG4gICAgdW5sZXNzIHN1Y2Nlc3MgIyBTdG9wIGlmIGltYWdlIGlzIGZhaWxlZCB0byBsb2FkXG4gICAgICBAbG9nKFwiRmFpbGVkIHRvIGxvYWQgaW1hZ2U6ICN7QGltYWdlLmF0dHIoJ3NyYycpfVwiLCAnZXJyb3InKVxuICAgICAgQGRlc3Ryb3koKVxuICAgICAgcmV0dXJuXG4gICAgQF91cGRhdGVJbWFnZVNpemUoZGF0YSkgIyBTYXZlIGRpbWVuc2lvblxuICAgIEB3cmFwcGVyLmFkZENsYXNzICd0YWdsYScgIyBBcHBseSBuZWNlc3NhcnkgY2xhc3MgbmFtZXNcbiAgICBAd3JhcHBlci5hZGRDbGFzcyAndGFnbGEtZWRpdGluZycgaWYgQGVkaXRvclxuICAgIEBhZGRUYWcgdGFnIGZvciB0YWcgaW4gQGRhdGEgIyBDcmVhdGUgdGFnc1xuXG4gIGRlc3Ryb3k6IC0+XG4gICAgQGxvZyAnZGVzdHJveSgpIGlzIGV4ZWN1dGVkJ1xuXG4kLmV4dGVuZChUYWdsYTo6LCBwcm90bylcbndpbmRvdy5TdGFja2xhID0ge30gdW5sZXNzIHdpbmRvdy5TdGFja2xhXG53aW5kb3cuU3RhY2tsYS5UYWdsYSA9IFRhZ2xhXG5cbiJdfQ==