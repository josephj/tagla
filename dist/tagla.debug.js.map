{"version":3,"sources":["/source/base.coffee","/source/image.coffee","../src/coffee/tagla.coffee"],"names":[],"mappings":"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","file":"tagla.debug.js","sourcesContent":["###\n# @class Stackla.Base\n###\nclass Base\n\n  constructor: (options = {}) ->\n    debug = @getParams('debug')\n    attrs = attrs or {}\n    if debug\n      @debug = (debug is 'true' or debug is '1')\n    else if attrs.debug\n      @debug = (attrs.debug is on)\n    else\n      @debug = false\n    @_listeners = []\n\n  toString: -> 'Base'\n\n  log: (msg, type) ->\n    return unless @debug\n    type = type or 'info'\n    if window.console and window.console[type]\n      window.console[type] \"[#{@toString()}] #{msg}\"\n    return\n\n  on: (type, callback) ->\n    if !type or !callback\n      throw new Error('Both event type and callback are required parameters')\n    @log 'on() - event \\'' + type + '\\' is subscribed'\n    @_listeners[type] = [] unless @_listeners[type]\n    callback.instance = @\n    @_listeners[type].push(callback)\n    callback\n\n  emit: (type, data = []) ->\n    @log \"emit() - event '#{type}' is triggered\"\n    data.unshift\n      type: type\n      target: @\n    throw new Error('Lacks of type parameter') unless type\n    if @_listeners[type] and @_listeners[type].length\n      for i of @_listeners[type]\n        @_listeners[type][i].apply @, data\n    @\n\n  getParams: (key) ->\n    href = @getUrl()\n    params = {}\n    pos = href.indexOf('?')\n    @log 'getParams() is executed'\n    if href.indexOf('#') != -1\n      hashes = href.slice(pos + 1, href.indexOf('#')).split('&')\n    else\n      hashes = href.slice(pos + 1).split('&')\n    for i of hashes\n      hash = hashes[i].split('=')\n      params[hash[0]] = hash[1]\n    if key then params[key] else params\n\n  getUrl: -> window.location.href\n\n# Promote to global\nwindow.Stackla = {} unless window.Stackla\nwindow.Stackla.Base = Base\n","class ImageSize extends Stackla.Base\n\n  constructor: (el, callback) ->\n    super()\n    @init(el)\n    @bind()\n    @render(callback)\n    return @\n\n  toString: () -> 'ImageSize'\n\n  init: (el) ->\n    @el = $(el)[0]\n    @complete = @el.complete\n    @data = {}\n    @_timer = null\n    @data.width = @el.width\n    @data.height = @el.height\n\n  bind: ->\n    @log 'bind() is executed'\n    # Keep an eye on resize event\n    $(window).resize (e) =>\n      isEqual = @el.width is @data.width and @el.height is @data.height\n      return if isEqual\n      $.extend @data, {\n        width: @el.width\n        height: @el.height\n        widthRatio: @el.width / @data.naturalWidth\n        heightRatio: @el.height / @data.naturalHeight\n      }\n      @log 'handleResize() is executed'\n      @.emit('change', [@data])\n\n  render: (callback) ->\n    @log 'render() is executed'\n    # Image Loaded\n    if @complete\n      img = new Image()\n      img.src = @el.src\n      @log \"Image '#{@el.src}' is loaded\"\n      @data.naturalWidth = img.width\n      @data.naturalHeight = img.height\n      callback(true, @data)\n    # Image Loading\n    else\n      @log \"Image '#{@el.src}' is NOT ready\"\n      img = new Image()\n      img.src = @el.src\n      img.onload = (e) =>\n        @log \"Image '#{img.src}' is loaded\"\n        @data.naturalWidth = img.width\n        @data.naturalHeight = img.height\n        callback(true, @data)\n      img.onerror = (e) =>\n        @log \"Image '#{img.src}' is failed to load\"\n        callback(false, @data)\n\n\nwindow.Stackla = {} unless window.Stackla\n\nStackla.getImageSize = (el, callback) ->\n  new ImageSize(el, callback)\n",null]}